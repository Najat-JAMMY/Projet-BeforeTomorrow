<!DOCTYPE html>
<html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<title>S'inscrire</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta charset="UTF-8" />
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
	href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/bootstrap.css}" />
<link rel="stylesheet" th:href="@{/css/BTStyle.css}" />
<script type="text/javascript" th:src="@{/js/jquery-3.3.1.min.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.bundle.min.js}"></script>
</head>

<body>
	<div class="container-fluid">
		<div class="row no-gutter">
			<!-- The content half -->
			<div class="col-md-8 bg-custom">
				<div class="login d-flex align-items-center py-5">
					<div class="container">
						<div class="row">
							<div class="col-lg-10 col-xl-7 mx-auto">

								<div th:if="*{erreurMail}">
									<div class="alert alert-danger">Cet email existe déjà</div>
								</div>

								<form action="#" th:action="@{/users/inscription}"
									th:object="${formInscription}" method="post">
									<div class="mb-3">
										<label for="nom" class="form-label">Nom</label> <input th:field="*{nom}"
											id="inputNom" type="text" required="" autofocus=""
											class="form-control shadow-sm px-4">
									</div>
									<div class="mb-3">
										<label for="prenom" class="form-label">Prénom</label> <input
											th:field="*{prenom}" id="inputPrenom" type="text" required=""
											autofocus="" class="form-control shadow-sm px-4">
									</div>
									<div class="mb-3">
										<label for="email" class="form-label">Email</label> <input
											th:field="*{email}" required pattern="[^@]+@[^@]+\.[a-zA-Z]{2,3}" id="inputEmail"
											class="form-control shadow-sm px-4">
									</div>
									<div class="mb-3">
										<label class="form-label">Mot de passe</label> <input th:field="*{motDePasse}" 
											name="mdp" id="mdp" type="password" required="" autofocus=""
											class="form-control shadow-sm px-4">
									</div>
									<div class="mb-3">
										<label class="form-label">Confirmation du mot de passe</label>
										<input name="confirm_mdp" id="confirm_mdp"  type="password" required=""
											class="form-control shadow-sm px-4 bt-color-marron">
											 <span id='message'></span>
									</div>
									<div class="custom-control custom-checkbox mb-3">
										<input id="customCheck1" type="checkbox" checked
											class="custom-control-input"> <label
											for="customCheck1" class="custom-control-label">J'accepte
											les CGU</label>
									</div>
									<button type="submit" name="btn_valid"
										class="btn btn-custom-validation text-uppercase mb-2 shadow-sm">S'inscrire</button>
										<input type="button"class="btn btn-custom-validation btn-block text-uppercase mb-2 shadow-sm" value="Retour" onclick="history.go(-1)">
								</form>
							</div>
						</div>
					</div>
					<!-- End -->
				</div>
			</div>
			<!-- End -->
			<!-- IMAGE -->
			<div class="col-md-4 d-none d-md-flex bg-image"></div>

		</div>
	</div>

</body>
</html>
<script>
$('#mdp, #confirm_mdp,#btn_valid').on('keyup', function () {
	  if ($('#mdp').val() != $('#confirm_mdp').val()) {
		  $('#message').html('Mauvais mot de passe').css('color', 'red');
		  $('#btn_valid').prop("disabled",true);
	  }   else 
	    $('#message').html('').css('color', 'red');
	  $('#btn_valid').prop("disabled",false);
	});
</script>
